<!DOCTYPE html>
<html>
<head>
	<title>Tower of Hanoi</title>
	<style>
		#gameboard {
			display: flex;
			flex-direction: row;
			justify-content: space-between;
			margin: 0 auto;
			width: 80%;
			height: 400px;
			border: 1px solid black;
			padding: 10px;
		}
		.tower {
			display: flex;
			flex-direction: column;
			align-items: center;
			justify-content: center;
			width: 30%;
			height: 300px;
			border: 1px solid black;
		}
		.disc {
			background-color: red;
			width: 50%;
			height: 20px;
			margin: 5px;
		}
	</style>
</head>
<body>
	<div id="gameboard">
		<div class="tower" id="towerA"></div>
		<div class="tower" id="towerB"></div>
		<div class="tower" id="towerC"></div>
	</div>
	<script>
		const towerA = document.querySelector('#towerA');
		const towerB = document.querySelector('#towerB');
		const towerC = document.querySelector('#towerC');

		const discs = [
			document.createElement('div'),
			document.createElement('div'),
			document.createElement('div'),
			document.createElement('div')
		];

		const discSizes = [80, 60, 40, 20];

		for (let i = 0; i < discs.length; i++) {
			discs[i].classList.add('disc');
			discs[i].style.width = `${discSizes[i]}%`;
			towerA.appendChild(discs[i]);
		}

		let fromTower = null;
		let toTower = null;

		towerA.addEventListener('click', selectTower);
		towerB.addEventListener('click', selectTower);
		towerC.addEventListener('click', selectTower);

		function selectTower(event) {
			if (!fromTower) {
				fromTower = event.currentTarget;
				fromTower.style.backgroundColor = 'gray';
			} else if (!toTower) {
				toTower = event.currentTarget;
				if (fromTower.id !== toTower.id) {
					moveDisc();
				}
				fromTower.style.backgroundColor = '';
				fromTower = null;
				toTower = null;
			}
		}

		function moveDisc() {
			const fromDisc = fromTower.lastElementChild;
			const toDisc = toTower.lastElementChild;

			if (!toDisc || toDisc.offsetWidth > fromDisc.offsetWidth) {
				toTower.appendChild(fromDisc);
			}
		}
	</script>
</body>
</html>
